<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<VBox prefHeight="600.0" prefWidth="800.0" spacing="10.0"
      xmlns="http://javafx.com/javafx/17"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.tracker.ui.SalesController">
   
   <Label text="Sales Register">
      <font>
         <Font name="System Bold" size="20.0" />
      </font>
   </Label>

   <HBox spacing="10.0">
      <!-- Add Item Section -->
      <VBox spacing="5.0" style="-fx-border-color: #ccc; -fx-padding: 10;">
         <Label text="Add Item to Cart" style="-fx-font-weight: bold;" />
         <GridPane hgap="10.0" vgap="5.0">
            <Label text="Product Name:" GridPane.rowIndex="0" />
            <ComboBox fx:id="productSearchComboBox" prefWidth="150.0" promptText="Search by name..." GridPane.columnIndex="1" GridPane.rowIndex="0" />
            
            <Label text="Quantity:" GridPane.rowIndex="1" />
            <TextField fx:id="saleQuantityField" GridPane.columnIndex="1" GridPane.rowIndex="1" />
         </GridPane>
         <Button mnemonicParsing="false" onAction="#handleAddToCart" text="Add to Cart" />
         <Label fx:id="cartMessageLabel" textFill="BLUE" />
      </VBox>

      <!-- Cart Table Section -->
      <VBox HBox.hgrow="ALWAYS" spacing="5.0">
         <Label text="Current Cart" style="-fx-font-weight: bold;" />
         <TableView fx:id="cartTable" VBox.vgrow="ALWAYS">
            <columns>
               <TableColumn fx:id="cartIDCol" prefWidth="100.0" text="ID" />
               <TableColumn fx:id="cartNameCol" prefWidth="150.0" text="Name" />
               <TableColumn fx:id="cartQtyCol" prefWidth="60.0" text="Qty" />
               <TableColumn fx:id="cartPriceCol" prefWidth="80.0" text="Price" />
               <TableColumn fx:id="cartTotalCol" prefWidth="80.0" text="Total" />
            </columns>
            <columnResizePolicy>
               <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
            </columnResizePolicy>
         </TableView>
      </VBox>
   </HBox>

   <!-- Total Amount -->
   <HBox alignment="CENTER_RIGHT" spacing="15.0">
      <Label text="TOTAL AMOUNT:" style="-fx-font-weight: bold; -fx-font-size: 16pt;" />
      <Label fx:id="totalLabel" text="0.00" style="-fx-font-weight: bold; -fx-font-size: 16pt;" />
   </HBox>

   <!-- Payment Section -->
   <HBox alignment="CENTER_RIGHT" spacing="10.0">
      <Label text="Payment Method:" />
      <TextField fx:id="paymentMethodField" promptText="CASH/CARD" prefWidth="150.0" />
      <Button mnemonicParsing="false" onAction="#handleRecordSale" text="RECORD SALE"
              style="-fx-background-color: #008CBA; -fx-text-fill: white; -fx-font-weight: bold;" />
   </HBox>
</VBox>
